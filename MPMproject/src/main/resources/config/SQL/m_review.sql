ALTER TABLE M_REVIEW
	DROP
		CONSTRAINT FK_MEMBER_TO_M_REVIEW
		CASCADE;

ALTER TABLE M_REVIEW
	DROP
		CONSTRAINT FK_MUSIC_TO_M_REVIEW
		CASCADE;

ALTER TABLE M_REVIEW
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

DROP INDEX PK_M_REVIEW;

/* 챻慧慈 */
DROP TABLE M_REVIEW 
	CASCADE CONSTRAINTS;

/* 챻慧慈 */
CREATE TABLE M_REVIEW (
	MR_IDX NUMBER(8) NOT NULL, /* 챻慧慈┨淏 */
	MR_CONTENT VARCHAR2(500) NOT NULL, /* 엄쐍앁 */
	MR_DATE DATE NOT NULL, /* 엄쐍왩첊 */
	IDX_FK NUMBER(8) NOT NULL, /* 턎鞋淏 */
	MIDX NUMBER(8) NOT NULL /* 챻鞋淏 */
);

COMMENT ON TABLE M_REVIEW IS '챻慧慈';

COMMENT ON COLUMN M_REVIEW.MR_IDX IS '챻慧慈┨淏';

COMMENT ON COLUMN M_REVIEW.MR_CONTENT IS '엄쐍앁';

COMMENT ON COLUMN M_REVIEW.MR_DATE IS '엄쐍왩첊';

COMMENT ON COLUMN M_REVIEW.IDX_FK IS '턎鞋淏';

COMMENT ON COLUMN M_REVIEW.MIDX IS '챻鞋淏';

CREATE UNIQUE INDEX PK_M_REVIEW
	ON M_REVIEW (
		MR_IDX ASC
	);

ALTER TABLE M_REVIEW
	ADD
		CONSTRAINT PK_M_REVIEW
		PRIMARY KEY (
			MR_IDX
		);

ALTER TABLE M_REVIEW
	ADD
		CONSTRAINT FK_MEMBER_TO_M_REVIEW
		FOREIGN KEY (
			IDX_FK
		)
		REFERENCES MEMBER (
			IDX
		);

ALTER TABLE M_REVIEW
	ADD
		CONSTRAINT FK_MUSIC_TO_M_REVIEW
		FOREIGN KEY (
			MIDX
		)
		REFERENCES MUSIC (
			MIDX
		);

create sequence M_REVIEW_SEQ
increment by 1
start with 1
nocache;

commit;